jQuery(document).ready((function(i){"use strict";var t,n,o,e,c,a,d,r,u,l;"undefined"!=typeof yith_qv&&(n=(t=i(document).find("#yith-quick-view-modal")).find(".yith-quick-view-overlay"),o=t.find("#yith-quick-view-content"),e=t.find("#yith-quick-view-close"),c=t.find(".yith-wcqv-wrapper"),a=c.width(),d=c.height(),r=function(){var t=i(window).width(),n=i(window).height(),o=a<t-60?a:t-60,e=d<n-120?d:n-120;c.css({left:t/2-o/2,top:n/2-e/2,width:o+"px",height:e+"px"})},i.fn.yith_quick_view=function(){i(document).off("click",".yith-wcqv-button").on("click",".yith-wcqv-button",(function(n){n.preventDefault();var o=(n=i(this)).data("product_id"),e=!1;void 0!==yith_qv.loader&&(e=!0,n.block({message:null,overlayCSS:{background:"#fff url("+yith_qv.loader+") no-repeat center",opacity:.5,cursor:"none"}}),t.hasClass("loading")||t.addClass("loading"),i(document).trigger("qv_loading")),u(n,o,e)}))},u=function(n,e,c){i.ajax({url:yith_qv.ajaxurl,data:{action:"yith_load_product_quick_view",product_id:e,lang:yith_qv.lang,context:"frontend"},dataType:"json",type:"POST",success:function(e){o.html(e.html);var a=o.find(".variations_form");a.each((function(){i(this).wc_variation_form(),void 0!==i.fn.yith_wccl?i(this).yith_wccl():void 0!==i.yith_wccl&&e.prod_attr&&i.yith_wccl(e.prod_attr)})),a.trigger("check_variations"),a.trigger("reset_image"),void 0!==i.fn.wc_product_gallery&&o.find(".woocommerce-product-gallery").each((function(){i(this).wc_product_gallery()})),t.hasClass("open")||(t.removeClass("loading").addClass("open"),c&&n.unblock()),i(document).trigger("qv_loader_stop")}})},n.on("click",(function(i){l()})),i(document).keyup((function(i){27===i.keyCode&&l()})),e.on("click",(function(i){i.preventDefault(),l()})),l=function(){t.removeClass("open").removeClass("loading"),setTimeout((function(){o.html("")}),1e3)},r(),i(window).on("resize",r),i.fn.yith_quick_view(),i(document).on("yith_infs_adding_elem yith-wcan-ajax-filtered",(function(){i.fn.yith_quick_view()})))}));