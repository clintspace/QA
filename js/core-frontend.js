window.gt3Elementor=window.gt3Elementor||{},window.gt3Elementor.CoreFrontend=window.gt3Elementor.CoreFrontend||function(e){function t(){if(!this||this.widgets!==t.prototype.widgets)return new t;this.initialize()}return e.extend(t.prototype,{widgets:{"gt3-core-gallerypackery":"GalleryPackery"},body:e("body"),html:e("html"),window:e(window),footer:e("footer"),editMode:!1,array_chunk:function(e,t){if(Array.isArray(e)){for(var o,n=0,i=-1,r=e.length,a=[];n<r;n++)(o=n%t)?a[i][o]=e[n]:a[++i]=[e[n]];return a}return e},initialize:function(){var t=this;void 0!==window.elementorFrontend&&e.each(this.widgets,(function(e,o){window.elementorFrontend.hooks.addAction("frontend/element_ready/"+e+".default",t[o].bind(t))})),"undefined"!=typeof elementorFrontend&&(this.editMode=elementorFrontend.config.isEditMode||elementorFrontend.isEditMode&&elementorFrontend.isEditMode()),e("body:not(.elementor-editor-active) .gt3_column_link-elementor").each((function(){var e=jQuery(this),t=e.attr("data-column-clickable-url"),o=e.attr("data-column-clickable-blank");e.find(".elementor-column-wrap").on("click",(function(e){"A"!=e.target.nodeName&&("yes"==o?window.open(t,"_blank"):window.location.href=t)}))})),this.editMode&&(jQuery((function(e){jQuery(":input")})),window.elementor.on("preview:loaded",(function(){if(void 0===window.elementor.elements)var e=setInterval((function(){void 0!==window.elementor.elements&&(clearInterval(e),window.elementor.elements.models.forEach((function(e,o,n){t.find_any_element(e.attributes)})))}),100)})))},find_any_element:function(e){var t=this;if("column"==e.elType)if("yes"===e.settings.attributes.gt3_carousel_back_end){var o=e.settings.attributes,n={};n.items_per_line=o.gt3_carousel_items_per_line,n.item_per_line_mobile=o.gt3_carousel_items_per_line_mobile,n.item_per_line_tablet=o.gt3_carousel_items_per_line_tablet,n.autoplay="yes"==o.gt3_carousel_autoplay,n.autoplaySpeed=o.gt3_carousel_autoplay_time,n.dots="dots"==o.gt3_carousel_nav,n.arrows="arrows"==o.gt3_carousel_nav,n.centerMode="yes"==o.gt3_carousel_center_mode,n.l10n={},n.l10n.prev=o.gt3_carousel_nav_prev?o.gt3_carousel_nav_prev:"",n.l10n.next=o.gt3_carousel_nav_next?o.gt3_carousel_nav_next:"","yes"===e.settings.attributes.gt3_carousel&&e.id&&(jQuery(".elementor-element-"+e.id).addClass("gt3_carousel-elementor"),jQuery(".elementor-element-"+e.id).attr("data-settings",JSON.stringify(n)),jQuery(".elementor-element-"+e.id).addClass("gt3_carousel_items_per_line-"+n.items_per_line),jQuery(".elementor-element-"+e.id).addClass("gt3_carousel_items_per_line_tablet-"+n.item_per_line_tablet),jQuery(".elementor-element-"+e.id).addClass("gt3_carousel_items_per_line_mobile-"+n.item_per_line_mobile)),jQuery(".elementor-element-"+e.id).removeClass("gt3_carousel_destroy-elementor")}else jQuery(".elementor-element-"+e.id).addClass("gt3_carousel_destroy-elementor");"toggle"==e.widgetType&&("yes"===e.settings.attributes.add_question_marker?jQuery(".elementor-element-"+e.id).find(".elementor-tab-title").addClass("add_question_marker").attr("data-question_marker",e.settings.attributes.question_marker):jQuery(".elementor-element-"+e.id).find(".elementor-tab-title").removeClass("add_question_marker")),e.elements.length&&e.elements.models.length&&e.elements.models.forEach((function(e,o,n){e.attributes&&t.find_any_element(e.attributes)}))},GalleryPackery:function(t){var o=this,n=t.hasClass("packery_wrapper")?t:jQuery(".packery_wrapper",t);if(n.length){var i=jQuery(".isotope_wrapper",t),r=n.data("settings");r.action="gt3_core_packery_load_images";var a,l,s,d,u,m,c,_,p=this.array_chunk(n.data("images"),r.load_items),g=r.packery,w=0,y=p.length,f=r.lightbox;f&&(c=window["images"+r.uid],o.editMode||n.on("click",".lightbox",(function(t){t.preventDefault(),t.stopPropagation();var o={index:e(this).closest(".isotope_item").index(),container:"#popup_gt3_elementor_gallery",event:t,instance:r.uid};blueimp.ElementorGallery(c,o)}))),r.packery=null,h(),i.imagesLoaded((function(){h(),v()})),o.editMode||(t.on("click",".isotope-filter a",(function(e){e.preventDefault();var t=this.getAttribute("data-filter");jQuery(this).siblings().removeClass("active"),jQuery(this).addClass("active"),i.isotope({filter:t})})),e(".view_more_link",t).on("click",(function(t){t.preventDefault(),r.images=p[w++],jQuery.ajax({type:"POST",data:r,url:gt3_themes_core.ajaxurl,success:function(t){if("post_count"in t&&t.post_count>0){var o=e(t.respond);i.append(o).isotope("appended",o),f&&"gallery_items"in t&&(c=c.concat(t.gallery_items)),setTimeout((function(){i.isotope({sortby:"original-order"}),h()}),50),setTimeout((function(){v()}),800)}},error:function(e){console.error("Error request")}}),w>=y&&jQuery(this).addClass("hidden")}))),e(window).on("resize",(function(){h()})),w>=y&&jQuery(".view_more_link",t).remove()}else console.warn("Packery wrapper not found");function h(){"%"===r.gap_unit&&(_=(n.width()*parseFloat(r.gap_value)/100).toFixed(2),i.find(".isotope_item").css("padding-right",_+"px").css("padding-bottom",_+"px"));var t=g.grid,o=g.lap;e(window).outerWidth()<600?t=1:e(window).outerWidth()<900&&t%2==0&&(o/=2,t/=2),a=Math.floor(i.width()/t);var c=0;n.find("img").each((function(t,n){var i=e(this),r=i.closest(".isotope_item");if(e(window).outerWidth()<600)r.css("height","auto").css("width","auto").attr("data-ratio",""),i.attr("data-ratio","").closest(".img").css("height","auto").css("width","auto");else{d=s=a,(l=c%o+1)in g.elem&&("w"in g.elem[l]&&g.elem[l].w>1&&(s=a*g.elem[l].w),"h"in g.elem[l]&&g.elem[l].h>1&&(d=a*g.elem[l].h)),c++,u=s/d,m=(i.attr("width")||1)/(i.attr("height")||1),u>m&&(m=.5);var _=u>=1?"landscape":"portrait",p=m>=1?"landscape":"portrait";"portrait"===_&&"portrait"===p&&u>=m?_="landscape":"landscape"===_&&"landscape"===p&&m<=u&&(p="portrait"),r.css("height",Math.floor(d)).css("width",Math.floor(s)).attr("data-ratio-n",u).attr("data-ratio",_),i.attr("data-ratio",p).attr("data-ratio-n",m).closest(".img_wrap").css("height",r.height()).css("width",r.width())}})),i.isotope({layoutMode:"masonry",itemSelector:".isotope_item",masonry:{columnWidth:a},originLeft:!jQuery("body").hasClass("rtl")}).isotope("layout")}function v(){jQuery(".loading:first",t).length?(jQuery(".loading:first",t).removeClass("loading"),setTimeout(v,240)):h()}}}),t}(window.jQuery),jQuery(window).on("elementor/frontend/init",(function(){"function"==typeof window.gt3Elementor.CoreFrontend&&(window.gt3Elementor.CoreFrontend=window.gt3Elementor.CoreFrontend())}));